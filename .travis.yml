language: go
go:
- '1.3' # jessie
- '1.6' # xenial
- tip
sudo: required
dist: trusty
before_install:
- sudo apt-get -qq update
- sudo apt-get install -y go-bindata
- '[ "$TRAVIS_GO_VERSION" == "1.3" ] && (
    pushd bytecodes &&
    go-bindata -prefix data -pkg bytecodes data &&
    popd
  ) ||
    go generate ./bytecodes'
script:
- go test -v ./bytecodes
- go test -v ./parser
- go test -v ./scanner
- go test -v ./token
